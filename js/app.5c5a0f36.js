(function(){"use strict";var t={6572:function(t,e,s){var i=s(6369),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),e("router-link",{attrs:{to:"/kakaoMap"}},[t._v("kakaoMap")])],1),e("router-view")],1)},n=[],r=s(1001),a={},c=(0,r.Z)(a,o,n,!1,null,null,null),l=c.exports,p=s(2631),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"home"},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{margin:"10px"}},[t._v(" startMouseClientX: "+t._s(t.startMouseClientX)),e("br"),t._v("moveMouseClientX: "+t._s(t.moveMouseClientX)),e("br"),t._v("itemOffsetLeft: "+t._s(t.itemOffsetLeft)),e("br"),t._v("itemClientLeft: "+t._s(t.itemClientLeft)),e("br"),t._v("itemRectLeft: "+t._s(t.itemRectLeft)),e("br"),t._v("wrapRectLeft: "+t._s(t.wrapRectLeft)+" ")]),e("div",{staticStyle:{margin:"10px"}},[t._v(" startMouseClientY: "+t._s(t.startMouseClientY)),e("br"),t._v("moveMouseClientY: "+t._s(t.moveMouseClientY)),e("br"),t._v("itemOffsetTop: "+t._s(t.itemOffsetTop)),e("br"),t._v("itemClientTop: "+t._s(t.itemClientTop)),e("br"),t._v("itemRectTop: "+t._s(t.itemRectTop)),e("br"),t._v("wrapRectTop: "+t._s(t.wrapRectTop)+" ")])]),e("div",{ref:"listBox1",staticClass:"list-box1"},t._l(t.list,(function(s,i){return e("div",{key:s,staticClass:"list-item1",attrs:{"data-ord":i}},[t._v(" "+t._s(s)+" "),e("div",{staticClass:"handle"})])})),0)])},h=[],d=s(7327),f=s(9041),m=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{ref:"kakaoMapElement",attrs:{id:"map"}})])},v=[],k=(s(7658),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"cluster",staticClass:"cluster",on:{click:function(e){return e.stopPropagation(),t.onClusterClick()}}},[e("div",{staticClass:"map-cluster"},[e("span",{staticClass:"count"},[t._v(t._s(t.count))])]),t.openMcList?e("div",{ref:"mcListBox",staticClass:"mc-list"},t._l(t.dataSet,(function(s){return e("div",{key:s.mc.id,ref:"listItem",refInFor:!0,staticClass:"mc-item",class:t.selectedMarker(s),on:{click:function(e){return e.stopPropagation(),t.onClusterInMcItemClick(s.mc.id)}}},[t._v(" "+t._s(s.mc.place_name)+" ")])})),0):t._e()])}),C=[],g=function(t,e,s,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,s,r):o(e,s))||r);return n>3&&r&&Object.defineProperty(e,s,r),r};let L=class extends f.w3{constructor(...t){super(...t),(0,d.Z)(this,"markers",void 0),(0,d.Z)(this,"mcList",void 0),(0,d.Z)(this,"openMcList",void 0),(0,d.Z)(this,"listItem",void 0),(0,d.Z)(this,"mcListBox",void 0),(0,d.Z)(this,"cluster",void 0),(0,d.Z)(this,"count",0),(0,d.Z)(this,"dataSet",[])}async onOpenMcList(t,e){await this.$nextTick((()=>{this.changeEvent(t)}))}async mounted(){console.log(this.mcList),this.count=this.markers.length,this.markers.forEach(((t,e)=>{this.dataSet.push({mc:this.mcList[e],marker:t})}))}onClusterClick(){return this.openMcList}onClusterInMcItemClick(t){return t}selectedMarker(t){const e=t.marker.getContent(),s=e.classList.contains("act");return{selected:s}}selectedTracking(){const t=this.markers.findIndex((t=>{const e=t.getContent();return e.classList.contains("act")}));-1!==t&&this.mcListBox.scrollTo(0,this.listItem[t].offsetTop)}changeEvent(t){const e=this.cluster.parentElement;t?(this.selectedTracking(),e.style.zIndex="10"):e.style.zIndex=""}};g([(0,f.fI)()],L.prototype,"markers",void 0),g([(0,f.fI)()],L.prototype,"mcList",void 0),g([(0,f.fI)()],L.prototype,"openMcList",void 0),g([(0,f.Rl)("listItem")],L.prototype,"listItem",void 0),g([(0,f.Rl)("mcListBox")],L.prototype,"mcListBox",void 0),g([(0,f.Rl)("cluster")],L.prototype,"cluster",void 0),g([(0,f.RL)("openMcList")],L.prototype,"onOpenMcList",null),g([(0,f.y1)("onClusterClick")],L.prototype,"onClusterClick",null),g([(0,f.y1)("onClusterInMcItemClick")],L.prototype,"onClusterInMcItemClick",null),L=g([f.wA],L);var y=L,x=y,M=(0,r.Z)(x,k,C,!1,null,null,null),w=M.exports,_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"map-pin"})},b=[],Z=function(t,e,s,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,s,r):o(e,s))||r);return n>3&&r&&Object.defineProperty(e,s,r),r};let O=class extends f.w3{};O=Z([f.wA],O);var R=O,I=R,P=(0,r.Z)(I,_,b,!1,null,null,null),S=P.exports,B=function(t,e,s,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,s,r):o(e,s))||r);return n>3&&r&&Object.defineProperty(e,s,r),r};let E=class extends f.w3{constructor(...t){super(...t),(0,d.Z)(this,"kakaoMapElement",void 0),(0,d.Z)(this,"mapContainer",null),(0,d.Z)(this,"kakaoMapSearchService",null),(0,d.Z)(this,"searchList",[]),(0,d.Z)(this,"searchEnd",!1),(0,d.Z)(this,"customOverlayList",[]),(0,d.Z)(this,"mapBounds",null),(0,d.Z)(this,"kakaoMapClusterer",null),(0,d.Z)(this,"clursterList",[]),(0,d.Z)(this,"clursterComponentList",[]),(0,d.Z)(this,"prevSelectedIdx",-1),(0,d.Z)(this,"selectedIdx",-1)}async mounted(){await this.$nextTick((()=>{this.kakaoMapInit()}))}onSearchEnd(t){t&&(console.log("awefawefaoijfasoi;djfoais"),this.makeCustomOverlayList(),this.customOverlayList.forEach((t=>{this.mapBounds.extend(t.getPosition())})),this.mapContainer.setBounds(this.mapBounds),this.searchEnd=!1,this.kakaoMapSetClusterer(),this.kakaoMapClusterer.redraw())}kakaoMapInit(){let t=document.querySelector("script[src='https://dapi.kakao.com/v2/maps/sdk.js?appkey=07c20e31d1891825ce375b67602ddf31&autoload=false&libraries=services,clusterer,drawing']");if(null===t){t=document.createElement("script"),t.src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=07c20e31d1891825ce375b67602ddf31&autoload=false&libraries=services,clusterer,drawing",t.type="text/javascript",t.onload=()=>{window.kakao.maps.load((()=>{this.kakaoMapLoad()}))};const e=document.head;e.appendChild(t)}else this.kakaoMapLoad()}kakaoMapLoad(){this.createKakaoMapContainer(),this.createkakaoMapSearchService(),this.categorySearch()}createKakaoMapContainer(){this.mapContainer=new window.kakao.maps.Map(this.kakaoMapElement,{center:new window.kakao.maps.LatLng(33.450701,126.570667),level:5}),this.mapBounds=this.mapContainer.getBounds()}createkakaoMapSearchService(){this.mapContainer&&(this.kakaoMapSearchService=new window.kakao.maps.services.Places(this.mapContainer))}categorySearch(){this.kakaoMapSearchService&&this.kakaoMapSearchService.categorySearch("FD6",((t,e,s)=>{e===window.kakao.maps.services.Status.OK&&(this.searchList.push(t),s.hasNextPage||(this.searchList=this.searchList.flat(),console.log(this.searchList),this.searchEnd=!0),s.nextPage())}))}makeCustomOverlayList(){this.searchList.forEach(((t,e)=>{const s=new S;s.$mount(),s.$el.addEventListener("click",(t=>{const s=e,i=t.target;if(console.log("mcIndex",s),console.log("this.selectedIdx",this.selectedIdx),-1!==this.selectedIdx&&this.selectedIdx===s)i.classList.remove("act"),this.selectedIdx=-1,this.prevSelectedIdx=-1;else if(-1!==this.selectedIdx){this.prevSelectedIdx=this.selectedIdx;const t=this.customOverlayList[this.prevSelectedIdx].getContent();t.classList.remove("act"),i.classList.add("act"),this.selectedIdx=s}else i.classList.add("act"),this.selectedIdx=s;this.clursterComponentList.forEach((t=>t.$forceUpdate()))}));const i=new window.kakao.maps.CustomOverlay({map:this.mapContainer,clickable:!0,content:s.$el,position:new window.kakao.maps.LatLng(t.y,t.x)});this.customOverlayList.push(i)}))}kakaoMapSetClusterer(){this.kakaoMapClusterer=new window.kakao.maps.MarkerClusterer({map:this.mapContainer,markers:this.customOverlayList,gridSize:32,averageCenter:!0,disableClickZoom:!0}),window.kakao.maps.event.addListener(this.kakaoMapClusterer,"clustered",this.onClusterer)}onClusterer(t){this.clursterComponentList=[],t?.forEach(((t,e)=>{const s=t.getMarkers(),i=[],o=t.getClusterMarker();s.forEach((t=>{const e=this.customOverlayList.findIndex((e=>{const s=t.getPosition(),i=e.getPosition();return s.equals(i)}));-1!==e&&i.push(this.searchList[e])}));const n=new w;this.clursterComponentList.push(n),n.$props["markers"]=s,n.$props["mcList"]=i,n.$props["openMcList"]=!1,n.$on("onClusterClick",(t=>{t||this.clursterComponentList.forEach((t=>{t.$props["openMcList"]=!1})),n.$props["openMcList"]=!t})),n.$on("onClusterInMcItemClick",(t=>{const e=this.searchList.findIndex((e=>e.id===t));if(-1!==e){this.prevSelectedIdx=this.selectedIdx;const t=this.customOverlayList[e].getContent(),s=new Event("click");t.dispatchEvent(s),n.$forceUpdate()}})),n.$mount(),o.setContent(n.$el)}))}};B([(0,f.Rl)("kakaoMapElement")],E.prototype,"kakaoMapElement",void 0),B([(0,f.RL)("searchEnd",{immediate:!0})],E.prototype,"onSearchEnd",null),E=B([f.wA],E);var T=E,j=T,$=(0,r.Z)(j,m,v,!1,null,"e45ad94c",null),X=$.exports,Y=function(t,e,s,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,s,r):o(e,s))||r);return n>3&&r&&Object.defineProperty(e,s,r),r};let D=class extends f.w3{constructor(...t){super(...t),(0,d.Z)(this,"listBox1",void 0),(0,d.Z)(this,"list",["111111","222222","333333"]),(0,d.Z)(this,"startMouseClientX",0),(0,d.Z)(this,"startMouseClientY",0),(0,d.Z)(this,"moveMouseClientX",0),(0,d.Z)(this,"moveMouseClientY",0),(0,d.Z)(this,"itemOffsetLeft",0),(0,d.Z)(this,"itemClientLeft",0),(0,d.Z)(this,"itemRectLeft",0),(0,d.Z)(this,"wrapRectLeft",0),(0,d.Z)(this,"itemOffsetTop",0),(0,d.Z)(this,"itemClientTop",0),(0,d.Z)(this,"itemRectTop",0),(0,d.Z)(this,"wrapRectTop",0)}mounted(){let t=0,e=0,s=0;this.listBox1.addEventListener("touchstart",(i=>{const o=i.target,n=i.touches[0],r=o.classList;if(r.contains("list-item1"))t=n.clientX-o.getBoundingClientRect().left,this.startMouseClientX=n.clientX,this.observerX(o);else if(r.contains("handle")){const t=o.parentElement;e=n.clientY-t.getBoundingClientRect().top,s=t.offsetHeight,this.startMouseClientY=n.clientY,this.observerY(o,t)}})),this.listBox1.addEventListener("touchmove",(i=>{i.cancelable&&i.preventDefault();const o=i.target,n=i.touches[0],r=o.classList;if(r.contains("list-item1")){const e=n.clientX-t-this.listBox1.getBoundingClientRect().left;this.moveMouseClientX=n.clientX,this.observerX(o),o.style.left=e<-100?"-100px":e>0?"0px":`${e}px`}else if(r.contains("handle")){const t=o.parentElement,i=Number(t.dataset["ord"])??0,r=this.listBox1.getBoundingClientRect().top,a=n.clientY-e-r-s*i;if(a<=-1*s*i)t.style.top=-1*s*i+"px";else if(a>=s*(2-i))t.style.top=s*(2-i)+"px";else{t.style.top=`${a}px`;const e=Math.ceil(s/2),i=Math.floor(Math.abs(a/e));console.log(`이동한거리: ${a}, changeTholder: ${e}, changeTrigger: ${i}`),i%2===1&&console.log(this.listBox1.children[0])}this.moveMouseClientY=n.clientY,this.observerY(o,t)}}))}observerX(t){this.itemOffsetLeft=t.clientLeft,this.itemClientLeft=t.offsetLeft,this.itemRectLeft=t.getBoundingClientRect().left,this.wrapRectLeft=this.listBox1.getBoundingClientRect().left}observerY(t,e){this.itemOffsetTop=t.clientTop,this.itemClientTop=t.offsetTop,this.itemRectTop=e.getBoundingClientRect().top,this.wrapRectTop=this.listBox1.getBoundingClientRect().top}};Y([(0,f.Rl)("listBox1")],D.prototype,"listBox1",void 0),D=Y([(0,f.wA)({components:{HelloWorld:X}})],D);var A=D,K=A,z=(0,r.Z)(K,u,h,!1,null,null,null),F=z.exports,H=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("KakaoMap")],1)},q=[],N=function(t,e,s,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,s,r):o(e,s))||r);return n>3&&r&&Object.defineProperty(e,s,r),r};let U=class extends i.ZP{};U=N([(0,f.wA)({components:{KakaoMap:X}})],U);var W=U,G=W,J=(0,r.Z)(G,H,q,!1,null,null,null),Q=J.exports;i.ZP.use(p.ZP);const V=[{path:"/",name:"home",component:F},{path:"/kakaoMap",name:"kakaoMap",component:Q}],tt=new p.ZP({mode:"history",base:"/vue-project/",routes:V});var et=tt,st=s(3822);i.ZP.use(st.ZP);var it=new st.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});i.ZP.config.productionTip=!1,new i.ZP({router:et,store:it,render:t=>t(l)}).$mount("#app")}},e={};function s(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,i,o,n){if(!i){var r=1/0;for(p=0;p<t.length;p++){i=t[p][0],o=t[p][1],n=t[p][2];for(var a=!0,c=0;c<i.length;c++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[c])}))?i.splice(c--,1):(a=!1,n<r&&(r=n));if(a){t.splice(p--,1);var l=o();void 0!==l&&(e=l)}}return e}n=n||0;for(var p=t.length;p>0&&t[p-1][2]>n;p--)t[p]=t[p-1];t[p]=[i,o,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,n,r=i[0],a=i[1],c=i[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(c)var p=c(s)}for(e&&e(i);l<r.length;l++)n=r[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(p)},i=self["webpackChunkkakao_map_test"]=self["webpackChunkkakao_map_test"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(6572)}));i=s.O(i)})();
//# sourceMappingURL=app.5c5a0f36.js.map